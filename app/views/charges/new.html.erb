<h1>Checkout</h1>

  <div class="checkout_container">  
    <h3>Purchase Details</h3>
        <div><b>Subcription:</b> <%= @app.name %> by <%= @app.editor.first_name %> <%= @app.editor.last_name %></div>
        <div><b>Price:</b> <%= @app.amount %></div>
  </div>

  <div class="checkout_container">
      <h3>Payment Information</h3>

      <form action="/charges" method="post" id="payment-form">
      	<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
        <%= hidden_field_tag :app_id, @app.id %>
        
        <label>
            <span>Name on Card</span>
            <input name="cardholder-name" class="field" id="cardholder-name" required>
        </label>
        <label>
            <span>Address</span>
            <input name="address" class="field" id="address" required>
        </label>
        <label>
            <span>City</span>
            <input name="city" type="field" class="field" id="city" required>
        </label>
        <label>
            <span>State</span>
            <input name="state" type="field" class="field" size=2 maxlength=2 id="state" required>
        </label>

        <div class="form-row">
          
          <div id="card-element">
            <!-- A Stripe Element will be inserted here. -->
          </div>

          <!-- Used to display form errors. -->
          <div id="card-errors" role="alert"></div>
          </div>

        <button class="stripe-button">Submit Payment</button>
      </form>

      <%= javascript_include_tag "stripe_elements" %>

  </div>
