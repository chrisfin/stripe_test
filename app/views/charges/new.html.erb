<h1>Stripe Test Implementations</h1>

 <div class="checkout_container">
    <h2>Stripe Checkout</h2>
    <%= form_tag charges_path do %>
      <article>
        <% if flash[:error].present? %>
          <div id="error_explanation">
            <p><%= flash[:error] %></p>
          </div>
        <% end %>
        <label class="amount">
          <span>Amount: $5.00</span>
        </label>
      </article>

      <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
              data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
              data-description="A month's subscription"
              data-amount="500"
              data-locale="auto">
      </script>
    <% end %>

  </div>

<div class="checkout_container">
    <h2>Stripe Elements</h2>

    <form action="/charges" method="post" id="payment-form">
    	<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
      <div class="form-row">
        <label for="card-element">
          Credit or debit card
        </label>
        <div id="card-element">
          <!-- A Stripe Element will be inserted here. -->
        </div>

        <!-- Used to display form errors. -->
        <div id="card-errors" role="alert"></div>
      </div>

      <button class="stripe-button">Submit Payment</button>
    </form>

    <%= javascript_include_tag "stripe_elements" %>

</div>

<%= link_to 'Back', charges_path %>
